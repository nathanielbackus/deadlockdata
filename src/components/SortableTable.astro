---
const { data } = Astro.props;
---
<script src="/public/scripts/tableSort.js" is:inline></script>
<table id="leaderboard">
  <thead>
    <tr>
      <th onclick="sortTableByColumn('leaderboard', 0)">Account ID</th>
      <th onclick="sortTableByColumn('leaderboard', 1)">Wins</th>
      <th onclick="sortTableByColumn('leaderboard', 2)">Matches Played</th>
      <th onclick="sortTableByColumn('leaderboard', 3)">Win Rate</th>
    </tr>
  </thead>
  <tbody>
    {data.map(player => (
      <tr>
        <td>{player.account_id}</td>
        <td>{player.wins}</td>
        <td>{player.matches_played}</td>
        <td>{((player.wins / player.matches_played) * 100).toFixed(2)}%</td>
      </tr>
    ))}
  </tbody>
</table>
<style>
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: left;
  }
  th {
    background-color: #f4f4f4;
    cursor: pointer;
  }
  th:hover {
    background-color: #ddd;
  }
</style>
